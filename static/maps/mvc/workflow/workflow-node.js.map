{"version":3,"file":"workflow-node.js","sources":["../../../src/mvc/workflow/workflow-node.js"],"names":["define","NodeView","Node","Backbone","Model","extend","initialize","app","attr","this","element","input_terminals","output_terminals","tool_errors","connectedOutputTerminals","_connectedTerminals","terminals","connectedTerminals","$","each","_","t","connectors","length","push","hasConnectedOutputTerminals","outputTerminals","outputName","connectedMappedInputTerminals","_connectedMappedTerminals","hasConnectedMappedInputTerminals","inputTerminals","inputName","inputTerminal","isMappedOver","mapped_outputs","mapOver","isCollection","mappedInputTerminals","_mappedTerminals","mappedTerminals","hasMappedOverInputTerminals","found","redraw","destroy","k","workflow","remove_node","remove","make_active","addClass","make_inactive","get","p","removeChild","appendChild","parentNode","removeClass","init_field_data","data","type","name","form_html","tool_state","tooltip","annotation","post_job_actions","label","uuid","workflow_outputs","node","nodeView","el","data_inputs","i","input","addDataInput","data_outputs","addRule","output","addDataOutput","render","node_changed","update_field_data","pja_in","parseJSON","renderToolErrors","old_body","new_body","newInputsDiv","newTerminalViews","terminalView","difference","values","terminalViews","unusedView","terminal","updateDataOutput","replaceWith","markChanged","error","text","b","find","tmp","html"],"mappings":"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"}