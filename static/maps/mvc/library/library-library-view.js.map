{"version":3,"file":"library-library-view.js","sources":["../../../src/mvc/library/library-library-view.js"],"names":["define","mod_toastr","mod_library_model","mod_select","LibraryView","Backbone","View","extend","el","model","options","events","click .toolbtn_save_permissions","initialize","this","_","id","fetchLibrary","Library","that","fetch","success","show_permissions","showPermissions","render","error","response","responseJSON","err_msg","onclick","Galaxy","libraries","library_router","back","$","remove","template","templateLibrary","$el","html","item","tooltip","shareDataset","info","goBack","undefined","fetched_permissions","set","access_library_role_list","length","is_unrestricted","is_admin","currUser","isAdmin","templateLibraryPermissions","library","self","get","window","galaxy_config","root","done","prepareSelectBoxes","fail","css","_serializeRoles","role_list","selected_roles","i","push","selected_access_library_roles","selected_add_item_roles","add_library_item_role_list","selected_manage_library_roles","manage_library_role_list","selected_modify_library_roles","modify_library_role_list","accessSelectObject","_createSelectOptions","addSelectObject","manageSelectObject","modifySelectObject","init_data","is_library_access","select_options","minimumInputLength","multiple","placeholder","container","find","ajax","url","dataType","quietMillis","data","term","page","q","page_limit","results","more","total","roles","formatResult","role","name","type","formatSelection","initSelection","element","callback","val","split","each","initialData","dropdownCssClass","comingSoon","warning","copyToClipboard","href","history","location","lastIndexOf","substr","prompt","makeDatasetPrivate","post","removeDatasetRestrictions","_extractIds","roles_list","ids_list","savePermissions","access_ids","select2","add_ids","manage_ids","modify_ids","access_ids[]","add_ids[]","manage_ids[]","modify_ids[]","tmpl_array","join"],"mappings":"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"}